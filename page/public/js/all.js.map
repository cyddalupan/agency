{"version":3,"sources":["controller.js","conditions/is_stepup_file.js","public/online-registration.js","tools/calculateAge.js","tools/date_to_timestamp.js","tools/remove_dash.js","tools/resizeIframe.js","admin/applicants/all_applicants.js","admin/dashboard/dashboard.js","admin/reports/summary-applied-online.js","admin/reports/summary-reports.js","admin/users/users_delete.js","employer/applicants/resume.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["/**\n * Main JavaScript File\n * Author: Cyd Dalupan (cydmdalupan@gmail.com)\n */\n\nvar myApp = angular.module('myApp',[]);\n","/*\n * test If file_type is a Stepup File\n */\nfunction is_stepup_files(file_type){\n\tconsole.log('function condition/is_stepup_files');\n\n\tif(file_type == 'Step Up Files 1')\n\t\treturn true;\n\tif(file_type == 'Step Up Files 2')\n\t\treturn true;\n\tif(file_type == 'Step Up Files 3')\n\t\treturn true;\n\telse\n\t\treturn false;\n\n}","myApp.controller('online-registration', ['$scope', function($scope) {\n\n\tconsole.log('online registration')\n\n\twindow.setInterval(function(){\n\t\tdateofbirth = $('.dateofbirth').val();\n\n\t\tbirthday_timestamp = date_to_timestamp(dateofbirth);\n\t\tage = calculateAge(birthday_timestamp);\n\n\t\t$('.cyd_age').val(age);\n\t}, 3000);\n\n\tconsole.log('function applicant/registration/registration_compute_working_experience');\n\twindow.setInterval(function(){\n\t\tworkstarted = $('.work-started').val();\n\t\tworkended = $('.work-ended').val();\n\t\texperience = workended - workstarted;\n\t\t$('.work-years').val(experience);\n\t\treturn false;\n\t}, 3000);\n\n\t$('.add-training-button').click(function(){\n\t\t$('.add-training-button-row').hide(1);\n\t\t$('.extra-training').slideDown('slow');\n\t});\n\n\tconsole.log('function applicant/registration/registration_show_more_collage()');\n\t$('.add-collage-button').click(function(){\n\t\t$('.add-collage-button-row').fadeOut(1);\n\t\t$('.extra-collage').fadeIn('slow');\n\t});\n}]);","/*\n * Converts 'Date in timestamp' to Age.\n * Works With date_to_timestamp tool\n */\nfunction calculateAge(birthday_timestamp) { // birthday is a date\n    var ageDifMs = Date.now() - birthday_timestamp;\n    var ageDate = new Date(ageDifMs); // miliseconds from epoch\n    return Math.abs(ageDate.getUTCFullYear() - 1970);\n}","/*\n * Converts a Datetime Format \"1990-08-10\" to a TimeStamp \n * For Easier Compotation of date\n * Example, Getting Age\n * Can be Used in calculateAge() tool\n */\nfunction date_to_timestamp(oldDate){\n\tmyDate=oldDate.split(\"-\");\n\tvar newDate= myDate[1]+\"/\"+myDate[2]+\"/\"+myDate[0];\n\treturn (new Date(newDate).getTime());\n}","/*\n * simple remove dash on string function\n */\nfunction remove_dash(str){\n\treturn str.replace(/-/g, \"\");\n}","function resizeIframe(obj) {\n    obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';\n}","myApp.controller('all-applicants', ['$scope','$http','$filter', function($scope,$http,$filter) {\n\t\n\t//inital value\n\t$scope.current_page = 1;\n\t$scope.applicants = 0;\n\t$scope.employers = 0;\n\t$scope.countries = 0;\n\t$scope.positions = 0;\n\t$scope.noresult = 0;\n\n\t//search value\n\t$scope.keyword = searchKeyword;\n\t$scope.applicant_position_type = 'null';\n\t$scope.search_country = 0;\n\t$scope.search_position = 0;\n\t$scope.search_employer = 0;\n\t$scope.search_status = 111;\n\t$scope.search_gender = 'any';\n\t$scope.search_date_from = '';\n\t$scope.search_date_to = '';\n\t$scope.search_age_from = '';\n\t$scope.search_age_to = '';\n\t$scope.search_salary_from = '';\n\t$scope.search_salary_to = '';\n\n\t//show and hide parts\n\t$scope.show_all_applicants = 1;\n\t$scope.show_applicant_loading = 1;\n\n\t$scope.get_all_applicants = function(){\n\n\t\t//show and hide parts\n\t\t$scope.show_all_applicants = 0;\n\t\t$scope.show_applicant_loading = 1;\n\t\tconsole.log(branchID);\n\t\t//get from laravel API\n\t\t$http({\n\t\t\tmethod: 'POST',\n\t\t\turl: base_url+'page/applicants/all-applicants?page='+$scope.current_page,\n\t\t\tdata: { \n\t\t\t\t'keyword' : $scope.keyword, \n\t\t\t\t'applicant_position_type' : $scope.applicant_position_type,\n\t\t\t\t'branchID' : branchID,\n\t\t\t\t'status' : status,\n\t\t\t\t'isTrainingAdmin' : isTrainingAdmin,\n\t\t\t\t'search_country' : $scope.search_country,\n\t\t\t\t'search_position' : $scope.search_position,\n\t\t\t\t'search_employer' : $scope.search_employer,\n\t\t\t\t'search_status' : $scope.search_status,\n\t\t\t\t'search_gender' : $scope.search_gender,\n\t\t\t\t'search_date_from' : $filter('date')($scope.search_date_from , 'yyyy-MM-dd'),\n\t\t\t\t'search_date_to' : $filter('date')($scope.search_date_to , 'yyyy-MM-dd'),\n\t\t\t\t'search_age_from' : $scope.search_age_from,\n\t\t\t\t'search_age_to' : $scope.search_age_to,\n\t\t\t\t'search_salary_from' : $scope.search_salary_from,\n\t\t\t\t'search_salary_to' : $scope.search_salary_to,\n\t\t\t}\n\t\t}).then(function successCallback(response) {\n\t\t\tif(response.data.data.length == 0){\n\t\t\t\t$scope.noresult = 1;\n\t\t\t}else{\n\t\t\t\t$scope.noresult = 0;\n\t\t\t}\n\n\t\t\t//get response\n\t\t\t$scope.applicants = response.data;\n\n\t\t\t//convert output data\n\t\t\tangular.forEach($scope.applicants.data, function(value, key) {\n\n\t\t\t\t/**\n\t\t\t\t * convert appicant photo\n\t\t\t\t * add default image for blank and 0 image\n\t\t\t\t * or show real image path\n\t\t\t\t */\n\t\t\t\tif(value.applicant_photo == '' || value.applicant_photo == 0){\n\t\t\t\t\t$scope.applicants.data[key].image = base_url+'assets/images/admin/avatars/no-picture.jpg';\t\n\t\t\t\t}else{\n\t\t\t\t\t$scope.applicants.data[key].image = base_url+'files/applicant/'+value.applicant_photo;\n\t\t\t\t}\n\n\t\t\t\t//inserting multiple lineup\n\t\t\t\t$scope.applicants.data[key].employer = '';\n\t\t\t\tangular.forEach(value.multiple_lineup, function(ml_value, ml_key) {\n\t\t\t\t\t$scope.applicants.data[key].employer += ml_value.employer[0].employer_name+', ';\n\t\t\t\t});\n\n\t\t\t\t//statusColors\n\t\t\t\t$scope.applicants.data[key].statusColors = 'label-'+statusColors[value.applicant_status];\n\n\t\t\t\t//statusColors\n\t\t\t\t$scope.applicants.data[key].statusText = statusText[value.applicant_status];\n\n\t\t\t\t/**\n\t\t\t\t * loop all experience of current applicant\n\t\t\t\t * get how many months is the difference from work experience\n\t\t\t\t * deduct year and multiply by 12, deduct month and add to year\n\t\t\t\t * then devide by 12 and get the remaining\n\t\t\t\t */\n\t\t\t\texperience_total_dateDiffInMonth = 0;\n\t\t\t\tangular.forEach(value.applicant_experiences, function(experience_value, experience_key){\n\t\t\t\t\t//check if experience_to is blank of not a date.\n\t\t\t\t\tif ( isValidDate(experience_value.experience_to) ) {\n\t\t\t\t\t\tcheck_experience_to = experience_value.experience_to\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcheck_experience_to = new Date();\n\t\t\t\t\t}\n\t\t\t\t\texperience_dateDiffInyear = ($filter('date')(check_experience_to, 'yyyy') - $filter('date')(experience_value.experience_from, 'yyyy'));\n\t\t\t\t\texperience_dateDiffInMonth = ($filter('date')(check_experience_to, 'MM') - $filter('date')(experience_value.experience_from, 'MM'));\n\t\t\t\t\texperience_total_dateDiffInMonth = (experience_total_dateDiffInMonth + ((experience_dateDiffInyear * 12) + (experience_dateDiffInMonth)));\n\t\t\t\t});\n\t\t\t\texperience_date_years = Math.floor(experience_total_dateDiffInMonth/12);\n\t\t\t\texperience_date_month = experience_total_dateDiffInMonth % 12;\n\t\t\t\t$scope.applicants.data[key].experience = experience_date_years+\" Year(s) And \"+experience_date_month+\" Month(s)\";\n\n\t\t\t\tif(value.hit_status == 'hit'){\n\t\t\t\t\t$scope.applicants.data[key].showDeny = 1;\n\t\t\t\t}else{\n\t\t\t\t\t$scope.applicants.data[key].showDeny = 0;\n\t\t\t\t}\n\t\t\t});//applicant foreach end\n\t\t\tconsole.log($scope.applicants);\n\n\t\t\t//pager\n\t\t\t$scope.pages = [];\n\t\t\tfor (var i = 0; i < $scope.applicants.last_page; i++) {\n\t\t\t\tpagecount = (i+1);\n\t\t\t\t$scope.pages[i] = [];\n\t\t\t\t$scope.pages[i].pagenumber = pagecount;\n\t\t\t\tif(pagecount == $scope.applicants.current_page)\n\t\t\t\t\t$scope.pages[i].class = \"disabled active\";\n\t\t\t\telse\n\t\t\t\t\t$scope.pages[i].class = \"\";\n\t\t\t};//pager loop end\n\t\t\tconsole.log($scope.pages);\n\n\n\t\t\t//show applicants and hide the loader\n\t\t\t$scope.show_all_applicants = 1;\n\t\t\t$scope.show_applicant_loading = 0;\n\t\t});\n\t}\n\n\t//run the function\n\t$scope.get_all_applicants();\n\n\t//click advance seach\n\t$scope.advance_search = function(){\n\t\t$scope.current_page = 1;\n\t\t$scope.get_all_applicants();\n\t}\n\n\t//get all employers\n\t$http({\n\t\tmethod: 'GET',\n\t\turl: base_url+'page/applicants/all-employer'\n\t}).then(function successCallback(response) {\n\t\t$scope.employers = response.data;\n\t\tconsole.log($scope.employers);\n\t});\n\n\t//get all countries\n\t$scope.get_country = function(){\n\t\t$http({\n\t\t\tmethod: 'GET',\n\t\t\turl: base_url+'page/applicants/all-country'\n\t\t}).then(function successCallback(response) {\n\t\t\t$scope.countries = response.data;\n\t\t\tconsole.log($scope.countries);\n\t\t});\n\t}\n\n\t//get all position\n\t$scope.get_position = function(){\n\t\t$http({\n\t\t\tmethod: 'GET',\n\t\t\turl: base_url+'page/applicants/all-position'\n\t\t}).then(function successCallback(response) {\n\t\t\t$scope.positions = response.data;\n\t\t\tconsole.log($scope.positions);\n\t\t});\n\t}\n\n\t//get advance search options\n\t$scope.show_advance_search = function(){\n\t\t$scope.get_country();\n\t\t$scope.get_position();\n\t}\n\n\t$scope.change_page = function(page_to){\n\t\t$scope.current_page = page_to;\n\t\t$scope.get_all_applicants();\n\t}\n\n\t$scope.str_pad = function(number){\n\t\tvar str = \"\" + number;\n\t\tvar pad = \"000000000\";\n\t\tvar ans = pad.substring(0, pad.length - str.length) + str;\n\t\treturn ans;\n\t}\n\n\t$scope.showcydreview = function(href){\n\t    $.ajax({\n\t        async:false,\n\t        url: base_url+'admin/applicants/review/'+href,\n\t        type:'GET',\n\t        cache:false,\n\t        dataType: 'html',\n\t        success:function( response ) {\n\t             $('#modalApplicantReview').find('.modal-body').html( response );\n\t        }\n\t    });\n\t}\n}]);\n\nfunction isValidDate(dateString) {\n\tif (dateString != null) {\n\t  var regEx = /^\\d{4}-\\d{2}-\\d{2}$/;\n\t  return dateString.match(regEx) != null;\n\t}else{\n\t\treturn false;\n\t}\n}","myApp.controller('dashboard', ['$scope','$timeout', function($scope,$timeout) {\n\n\twindow.onload = function() {\n\t    $timeout(function(){\n\t    \t$('iframe#dashboardstats').attr('src', base_url+\"admin/dashboard/stats\");    \n\t    \t$('.dashboardstats-loading').hide(1);\n\t    },1000);\n\n\t    $timeout(function(){\n\t\t\t$('iframe#updatesboard').attr('src', base_url+\"admin/dashboard/updatesboard\"); \n\t    \t$('.updatesboard-loading').hide(1);\n\t    },2000);\n\t};\n    \n}]);","myApp.controller('summary-applied-online', ['$scope','$http', function($scope,$http) {\n\t\n\t$scope.applicants = 0;\n\n\t$scope.init = function(agent_id)\n\t{\n\n\t\t$scope.deployed = [];\n\t\t$http({\n\t\t\tmethod: 'GET',\n\t\t\turl: base_url+'page/reports/summary-applied-online/'+agent_id\n\t\t}).then(function successCallback(response) {\n\t\t\t$scope.applicants = response.data;\n\t\t\tconsole.log($scope.applicants);\n\t\t});\n\n\t};\n}]);","myApp.controller('summary-reports', ['$scope','$http', function($scope,$http) {\n\t\n\t$scope.totalSelected = 0;\n\n\t$scope.totalSelectedPositions = 0;\n\n\t$scope.init = function(employer_id)\n\t{\n\n\t\t$http({\n\t\t\tmethod: 'GET',\n\t\t\turl: base_url+'page/reports/selected_count_positions/'+employer_id\n\t\t}).then(function successCallback(response) {\n\t\t\t$scope.totalSelectedPositions = response.data;\n\n\t\t\tangular.forEach($scope.totalSelectedPositions, function(value, key) {\n\t\t\t\t$scope.totalSelected = $scope.totalSelected + value.count;\n\t\t\t});\n\t\t});\n\n\t\t$scope.deployed = [];\n\t\t$http({\n\t\t\tmethod: 'GET',\n\t\t\turl: base_url+'page/reports/deployed_with_position/'+employer_id\n\t\t}).then(function successCallback(response) {\n\t\t\t$scope.deployed = response.data;\n\t\t});\n\n\t\t$scope.lineup = [];\n\t\t$http({\n\t\t\tmethod: 'GET',\n\t\t\turl: base_url+'page/reports/lineup_with_position/'+employer_id\n\t\t}).then(function successCallback(response) {\n\t\t\t$scope.lineup = response.data;\n\t\t});\n\n\t};\n}]);","myApp.controller('admin-user', ['$scope', function($scope) {\n\n\tconsole.log('admin user page');\n\t\n\tthe_u_id = 0;\n\t$('.cyd_save_user_id').click(function(){\n\t\tthe_u_id = $(this).attr('data-user');\n\t\tconsole.log('User selected is ' + the_u_id);\n\t});\n\n\t$('.cyd_delete_user').click(function(){\n\t\tconsole.log('function user_delete.js');\n\t\tvar r = confirm(\"Are you Sure you want to Delete User?\");\n\t\tif (r == true) {\n\t\t    $.post( base_url + 'page/delete_user',{user_id:the_u_id},function(user_delete_result){\n\t\t\t\tconsole.log(user_delete_result);\n\t\t\t})\n\t\t\t.fail(function() {\n\t\t\t    alert( \"Server Error, Please Refresh.\" );\n\t\t\t})\n\t\t\t.done(function() {\n\t\t\t    $('.cyd_hide_me_'+the_u_id).fadeOut('slow');\n\t\t\t});\n\t\t}\n\t});\n}]);","myApp.controller('employer-resume', ['$scope', function($scope) {\n\n\tconsole.log('employer resume');\n\n\tapplicant_id = $('.applicant_id').val();\n\t$.post( base_url + 'page/get_files',{applicant_id:applicant_id},function(jsonresult){\t\n\t\t//clear value\n\t\t$('.cyd_output_files').html('<div class=\"cyd_back\">Back</div>');\n\t\t$('.cyd_back').hide(1);\n\t\tjQuery.each( jsonresult, function( i, val ) {\n\t\t\tif(val.file_status == 1 && !is_stepup_files(val.file_type)){\n\t\t\t\t//design\n\t\t\t\tcyd_html = \n\t\t\t\t'<div class=\"cyd_each_document\">' +\n\t\t\t\t\t'<h1>' + \n\t\t\t\t\t\tval.file_type + \n\t\t\t\t\t'</h1>' +\n\t\t\t\t\t'<img src=\"' + \n\t\t\t\t\t\tbase_url + \n\t\t\t\t\t\tval.file_path +\n\t\t\t\t\t'\" />' + \n\n\t\t\t\t'</div>';\n\t\t\t  \t$('.cyd_output_files').append(cyd_html);\n\t\t  \t}\n\t\t});\n\t},\"json\")\n\t.fail(function() {\n\t    alert( \"Can't Load Files\" );\n\t})\n\t.done(function() {\n\t\tzoom_file();\n\t\tback_file();\n\t});\n\n\tfunction zoom_file(){\n\t    $('.cyd_each_document').click(function(){\n\t\t\tconsole.log('function employer/applicant/resume/zoom_file');\n\t    \t$('.cyd_back').show(1);\n\t\t\t$('.cyd_each_document').fadeOut('slow');\n\t\t\t$(this).fadeIn(1);\n\t\t\t$(this).css('width','100%');\n\t\t\t$('.cyd_each_document img').css('width','100%');\n\t\t});\n\t}\n\n\tfunction back_file(){\n\t\t$('.cyd_back').click(function(){\n\t\t\tconsole.log('function employer/applicant/resume/back_file');\n\t    \t$('.cyd_back').hide(1);\n\t\t\t$('.cyd_each_document').fadeIn('slow');\n\t\t\t$('.cyd_each_document').css('width','218px');\n\t\t\t$('.cyd_each_document img').css('width','181px');\n\t\t});\n\t}\n\n}]);"],"sourceRoot":"/source/"}